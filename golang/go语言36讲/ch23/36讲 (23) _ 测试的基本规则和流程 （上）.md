# 36讲 (23) | 测试的基本规则和流程 （上）

<a name="y9gPA"></a>
# 测试的基本规则和流程 （上）

对于程序或软件的测试也分很多种，比如：单元测试、API 测试、集成测试、灰度测试，等等。

我们可以为 Go 程序编写三类测试，即：功能测试（test）、基准测试（benchmark，也称性能测试），以及示例测试（example）。

测试源码文件的主名称应该以被测源码文件的主名称为前导，并且必须以“_test”为后缀。例如，如果被测源码文件的名

<a name="tAiT2"></a>
### **Go 语言对测试函数的名称和签名都有哪些规定？**
****这里我给出的典型回答是下面三个内容。**

- 对于功能测试函数来说，其名称必须以`Test`为前缀，并且参数列表中只应有一个`*testing.T`类型的参数声明。
- 对于性能测试函数来说，其名称必须以`Benchmark`为前缀，并且唯一参数的类型必须是`*testing.B`类型的。
- 对于示例测试函数来说，其名称必须以`Example`为前缀，但对函数的参数列表没有强制规定。

<a name="c1bFy"></a>
### `go test`命令执行的主要测试流程是什么？

只有测试文件的名称，测试函数的名称和签名都对了，当我们运行 `go test` 时，其中的测试代码才能被运行。

- 启动时，会先做准备工作，比如，确定内部需要用到的命令，检查我们指定的代码包或源码文件的有效性，以及判断我们给予的标记是否合法
- 准备晚餐后，`go test`命令就会针对每个被测代码包，**依次**地进行构建、执行包中符合要求的测试函数，清理临时文件，打印测试结果。
  - 注意依次，对于功能性测试Test来说，调试并发的但是输出结果是串行的
  - 对于性能测试来说，就是串行的，因为并发测试会让性能测试存在偏差。更具体地说，只有在所有构建步骤都做完之后，`go test`命令才会真正地开始进行性能测试。并且，下一个代码包性能测试的进行，总会等到上一个代码包性能测试的结果打印完成才会开始，而且性能测试函数的执行也都会是串行的




